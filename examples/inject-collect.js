webpackJsonp([3,15],{158:function(e,t,s){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function n(e){var t=e.components,s=e.createElement,a=(0,d.default)(e,["components","createElement"]);return s=s||_.h,t&&(t=t.map(function(e){if(e&&"object"===("undefined"==typeof e?"undefined":(0,c.default)(e))){var t=function(){};return t["__[[actual]]__"]=e,t}return e})),(0,_.h)(h.RouterContext,(0,o.default)({components:t,createElement:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t||{},r=a.children,n=(0,d.default)(a,["children"]);return e["__[[actual]]__"]&&(e=e["__[[actual]]__"]),s.call(this,e,n,r)}},a),a.children)}t.__esModule=!0,t.default=void 0;var l=s(28),o=r(l),i=s(54),c=r(i),p=s(66),d=r(p),u=s(3),_=(a(u),s(19)),h=s(53);t.default=n},159:function(e,t,s){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function n(){function e(e){return(0,c.h)(u.default,e,e.children)}var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,c.h)(p.Router,(0,o.default)({render:e},t),t.children)}t.__esModule=!0;var l=s(28),o=r(l);t.default=n;var i=s(3),c=(a(i),s(19)),p=s(53),d=s(158),u=r(d)},1006:function(e,t,s){e.exports={content:'<p>inject &#x26; collect 主要是用来获取全局 store 实例，进而进行页面之间的数据通信。</p>\n<p>collect 适用于获取挂载在全局 store 中懒加载的 VM。</p>\n<h3 id="简单例子"><a href="#%E7%AE%80%E5%8D%95%E4%BE%8B%E5%AD%90" aria-hidden="true"><span class="icon icon-link"></span></a>简单例子</h3>\n<p>使用 <code>inject</code> 在 View 层注入全局的数据</p>\n<div class="transformer-react-render-container"><pre><code class="hljs language-jsx" data-query="{&#x22;editable&#x22;:true,&#x22;placement&#x22;:&#x22;bottom&#x22;}" data-lang="jsx "><span class="hljs-keyword">import</span> * as <span class="hljs-type">React</span> from <span class="hljs-symbol">\'reac</span>t\'\n<span class="hljs-keyword">import</span> { h, binding, inject, observable, providerFactory, bindView, <span class="hljs-type">Root</span> } from <span class="hljs-symbol">\'react</span>-mobx-vm\'\n<span class="hljs-keyword">import</span> <span class="hljs-type">Router</span> from <span class="hljs-symbol">\'react</span>-mobx-vm/packages/<span class="hljs-type">RouterV3</span>\'\n<span class="hljs-keyword">import</span> { hashHistory, createMemoryHistory, useRouterHistory } from <span class="hljs-symbol">\'react</span>-router\'\n\nconst history = typeof document === <span class="hljs-symbol">\'undefine</span>d\' ? useRouterHistory(createMemoryHistory)() : hashHistory\n\nconst <span class="hljs-type">Container</span> = binding(\n  ({ children }) => (\n    &#x3C;div>\n      &#x3C;input data-bind=<span class="hljs-string">"g"</span> />\n      {children}\n    &#x3C;/div>\n  )\n)\n\n<span class="hljs-meta">@binding</span>\n<span class="hljs-meta">@inject</span>\n<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">EditView</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{\n  render() {\n    <span class="hljs-keyword">return</span> (\n      &#x3C;div>\n        &#x3C;p><span class="hljs-keyword">this</span>.app === appVM: {(<span class="hljs-keyword">this</span>.app === appVM).toString()}&#x3C;/p>\n        &#x3C;p><span class="hljs-keyword">this</span>.app.editVM === <span class="hljs-keyword">this</span>.local: {(<span class="hljs-keyword">this</span>.app.editVM === <span class="hljs-keyword">this</span>.local).toString()}&#x3C;/p>\n        &#x3C;input data-bind=<span class="hljs-string">"g"</span> data-scope={<span class="hljs-keyword">this</span>.app} />\n        &#x3C;p><span class="hljs-type">Edit</span> <span class="hljs-type">View</span>&#x3C;/p>\n        &#x3C;input data-bind=<span class="hljs-string">"val"</span> />\n      &#x3C;/div>\n    )\n  }\n}\n\n<span class="hljs-meta">@bindView</span>(<span class="hljs-type">EditView</span>)\n<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">EditModel</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Root</span> </span>{\n  <span class="hljs-meta">@observable</span> <span class="hljs-keyword">val</span> = <span class="hljs-symbol">\'ab</span>c\'\n}\n\n<span class="hljs-meta">@bindView</span>(<span class="hljs-type">Container</span>)\n<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Root</span> </span>{\n  editVM = <span class="hljs-type">EditModel</span>.create()\n  <span class="hljs-meta">@observable</span> g = \'g\'\n}\n\nconst appVM = <span class="hljs-type">App</span>.create({ g: <span class="hljs-symbol">\'h</span>i\' })\nconst <span class="hljs-type">Provider</span> = providerFactory(appVM)\nconst routes = {\n  path: \'/\', component: appVM,\n  indexRoute: {\n    component: appVM.editVM\n  }\n}\n\nexport <span class="hljs-keyword">default</span> (\n  &#x3C;<span class="hljs-type">Provider</span>>\n    &#x3C;<span class="hljs-type">Router</span> history={history} routes={routes}/>\n  &#x3C;/<span class="hljs-type">Provider</span>>\n)</code></pre><transformer-react-render data-id="0"></transformer-react-render></div>\n<hr>\n',extra:{},"transformer-react-render":{list:[['function anonymous(React,Component,ReactDOM,require\n) {\n\nvar exports = {}, module = {};\nmodule.exports = exports;\n(function picidaeTransformerReactRender(){Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=require("babel-runtime/helpers/classCallCheck");var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require("babel-runtime/helpers/createClass");var _createClass3=_interopRequireDefault(_createClass2);var _possibleConstructorReturn2=require("babel-runtime/helpers/possibleConstructorReturn");var _possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2);var _inherits2=require("babel-runtime/helpers/inherits");var _inherits3=_interopRequireDefault(_inherits2);var _class,_dec,_class2,_desc,_value,_class3,_descriptor,_dec2,_class5,_desc2,_value2,_class6,_descriptor2;var _react=require("react");var React=_interopRequireWildcard(_react);var _reactMobxVm=require("react-mobx-vm");var _RouterV=require("react-mobx-vm/packages/RouterV3");var _RouterV2=_interopRequireDefault(_RouterV);var _reactRouter=require("react-router");function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _initDefineProp(target,property,descriptor,context){if(!descriptor)return;Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};Object["ke"+"ys"](descriptor).forEach(function(key){desc[key]=descriptor[key]});desc.enumerable=!!desc.enumerable;desc.configurable=!!desc.configurable;if("value"in desc||desc.initializer){desc.writable=true}desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc);if(context&&desc.initializer!==void 0){desc.value=desc.initializer?desc.initializer.call(context):void 0;desc.initializer=undefined}if(desc.initializer===void 0){Object["define"+"Property"](target,property,desc);desc=null}return desc}function _initializerWarningHelper(descriptor,context){throw new Error("Decorating class property failed. Please ensure that transform-class-properties is enabled.")}var history=typeof document==="undefined"?(0,_reactRouter.useRouterHistory)(_reactRouter.createMemoryHistory)():_reactRouter.hashHistory;var Container=(0,_reactMobxVm.binding)(function(_ref){var children=_ref.children;return React.createElement("div",null,React.createElement("input",{"data-bind":"g"}),children)});var EditView=(0,_reactMobxVm.binding)(_class=(0,_reactMobxVm.inject)(_class=function(_React$Component){(0,_inherits3.default)(EditView,_React$Component);function EditView(){(0,_classCallCheck3.default)(this,EditView);return(0,_possibleConstructorReturn3.default)(this,(EditView.__proto__||Object.getPrototypeOf(EditView)).apply(this,arguments))}(0,_createClass3.default)(EditView,[{key:"render",value:function render(){return React.createElement("div",null,React.createElement("p",null,"this.app === appVM: ",(this.app===appVM).toString()),React.createElement("p",null,"this.app.editVM === this.local: ",(this.app.editVM===this.local).toString()),React.createElement("input",{"data-bind":"g","data-scope":this.app}),React.createElement("p",null,"Edit View"),React.createElement("input",{"data-bind":"val"}))}}]);return EditView}(React.Component))||_class)||_class;var EditModel=(_dec=(0,_reactMobxVm.bindView)(EditView),_dec(_class2=(_class3=function(_Root){(0,_inherits3.default)(EditModel,_Root);function EditModel(){var _ref2;var _temp,_this2,_ret;(0,_classCallCheck3.default)(this,EditModel);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _ret=(_temp=(_this2=(0,_possibleConstructorReturn3.default)(this,(_ref2=EditModel.__proto__||Object.getPrototypeOf(EditModel)).call.apply(_ref2,[this].concat(args))),_this2),_initDefineProp(_this2,"val",_descriptor,_this2),_temp),(0,_possibleConstructorReturn3.default)(_this2,_ret)}return EditModel}(_reactMobxVm.Root),(_descriptor=_applyDecoratedDescriptor(_class3.prototype,"val",[_reactMobxVm.observable],{enumerable:true,initializer:function initializer(){return"abc"}})),_class3))||_class2);var App=(_dec2=(0,_reactMobxVm.bindView)(Container),_dec2(_class5=(_class6=function(_Root2){(0,_inherits3.default)(App,_Root2);function App(){var _ref3;var _temp2,_this3,_ret2;(0,_classCallCheck3.default)(this,App);for(var _len2=arguments.length,args=Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2]}return _ret2=(_temp2=(_this3=(0,_possibleConstructorReturn3.default)(this,(_ref3=App.__proto__||Object.getPrototypeOf(App)).call.apply(_ref3,[this].concat(args))),_this3),_this3.editVM=EditModel.create(),_initDefineProp(_this3,"g",_descriptor2,_this3),_temp2),(0,_possibleConstructorReturn3.default)(_this3,_ret2)}return App}(_reactMobxVm.Root),(_descriptor2=_applyDecoratedDescriptor(_class6.prototype,"g",[_reactMobxVm.observable],{enumerable:true,initializer:function initializer(){return"g"}})),_class6))||_class5);var appVM=App.create({g:"hi"});var Provider=(0,_reactMobxVm.providerFactory)(appVM);var routes={path:"/",component:appVM,indexRoute:{component:appVM.editVM}};exports.default=React.createElement(Provider,null,React.createElement(_RouterV2.default,{history:history,routes:routes}))})(exports, module)\nreturn module.exports.default || module.exports;\n}',{editable:!0,placement:"bottom"},4]],pkg:{react:s(3),"react-dom":s(52),"babel-runtime/helpers/classCallCheck":s(11),"babel-runtime/helpers/createClass":s(16),"babel-runtime/helpers/possibleConstructorReturn":s(13),"babel-runtime/helpers/inherits":s(12),"react-mobx-vm":s(19),"react-mobx-vm/packages/RouterV3":s(159),"react-router":s(53)}}}}});
//# sourceMappingURL=inject-collect.js.map